language: python
branches:
  only:
  - master
jobs:
- name: Linux Build of webtoondl.py
  python: 3.6
  install:
  - pip3 install --upgrade pip
  - pip3 install -r requirements.txt
  before_deploy:
  - pyinstaller -F webtoondl.py
  - mv ./dist/webtoondl ./webtoondl-$OS.exe
  - git config --local user.name "Travis-CI-HSF"
  - git config --local user.email "HSF@Travis-CI-Builds.com"
  - export TRAVIS_TAG=${TRAVIS_TAG:-$(date +'%Y%m%d%H%M%S')-$(git log --format=%h
    -1)-$OS}
  - git tag $TRAVIS_TAG
  env:
  - OS=LINUX
- name: Mac OS X build of webtoondl.py
  os: osx
  osx_image: xcode11.2
  language: shell
  install:
  - pip3 install --upgrade pip
  - pip3 install -r requirements.txt
  before_deploy:
  - pyinstaller -F webtoondl.py
  - mv ./dist/webtoondl ./webtoondl-$OS.exe
  - git config --local user.name "Travis-CI-HSF"
  - git config --local user.email "HSF@Travis-CI-Builds.com"
  - export TRAVIS_TAG=${TRAVIS_TAG:-$(date +'%Y%m%d%H%M%S')-$(git log --format=%h
    -1)-$OS}
  - git tag $TRAVIS_TAG
  env:
  - OS=OSX
- name: Windows build of webtoondl.py
  os: windows
  language: shell
  before_install:
  - choco install python --version 3.8.0
  install:
  - C:/Python38/Scripts/pip.exe install -r requirements.txt
  before_deploy:
  - pyinstaller -F webtoondl.py
  - mv ./dist/webtoondl.exe ./webtoondl-$OS.exe
  - git config --local user.name "Travis-CI-HSF"
  - git config --local user.email "HSF@Travis-CI-Builds.com"
  - export TRAVIS_TAG=${TRAVIS_TAG:-$(date +'%Y%m%d%H%M%S')-$(git log --format=%h
    -1)-$OS}
  - git tag $TRAVIS_TAG
  env:
  - OS=WIN
  - PATH=/c/Python38:/c/Python38/Scripts:$PATH
script:
- python3 webtoondl.py 1022 -El || python webtoondl.py 1022 -El
deploy:
  provider: releases
  file: webtoondl-$OS.exe
  skip_cleanup: true
env:
  global:
    secure: B3gr+adSKVZIwfdkqoi2fZP1GKnHBDjNXrNlHq9C+bkoXLE6YfDKY6LtukmEDGuz/qHSOlsQUy7Es6CyE79lIdbVRag/D0nQkUbub61rn4/NvBGwXQnhiNpqqcwcaTqrqektY+cHI+N2zmRnQWBZyGZOMIe9Hl5mzlHhvep+wxlRLutwiIrbEkn+SdjqhL7iaECY/pm8uGh8EymnA0ird3B5DgqYtyDSJdVuyeA95KDqKvT7o4mm7lQ92crE/+tl1i/86UAOkfdxEWMei6LJm+Mjai3bGaTMITUJR/UIdQsYsTSvr9T6I1TRJmkewhroN/BT8OzFFKpj/T2IspDFAlqDz8PXXS4dRjes5bUvRYxnkoEuaamRBvaK/+UquUzCvwuFoCEYk4TeGcYx7FFHfiChD3wjCfY8EiRJSjBBYUJIc9cUoHNYJjkyC+bcoaPv6sXIOkzc+VNr7RwQi6Atv8qq2yhwxmgPatgxzG3INGkujDcTjzWatsZHcNt4lu0jf3daDPfDKEksqIXSG0VX1xzBruLcK9KDG15lCjYoh070ApgZs6hoCYO5kAmZL/MftjFrfM9hIGsBRMk5NslE8fyQPQ0Go195gcqcjuVMp8PNe3a+W0gJe4Gv411ldsUbN5/uBrypwKAGYSRqsKcYDyCjRinxH44WuUOWorgqnUc=
